const {api: search} = require('../../../src/search')

module.exports = {
  definition: `
    type Suggestion {
      type: String
      id: String
      score: Int
      title: String
    }
  `,
  query: `
    suggestAll(text: String!): [Suggestion]
  `,
  resolver: {
    Query: {
      suggestAll: {
        description: 'Suggest all',
        resolverOf: 'application::device.device.find',
        resolver: async (obj, {text}) => search.suggest('', text)
      }
    }
  }
}
